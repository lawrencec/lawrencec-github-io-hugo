<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class=no-js prefix="og: http://ogp.me/ns#" xmlns:og=http://ogp.me/ns#><!--<![endif]--><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=description content><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1"><meta name=mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=author content="Lawrence Carvalho"><meta property="og:site_name" content="Just another Nodetraveller"><meta property="og:title" content="Just another Nodetraveller"><meta property="og:url" content="https://blog.nodetraveller.com/post/source/liveinfo-how-it-works/"><meta property="og:description" content="Lawrence Carvalho's Personal blog about stuff"><meta property="og:type" content="article"><meta property="og:article:author" content="Lawrence Carvalho"><meta property="og:article:published_time" content="2005-02-14T15:42:03Z"><meta name=generator content="Hugo 0.73.0"><title>LiveInfo - How it works &#183; Just another Nodetraveller</title><link rel=canonical href=https://blog.nodetraveller.com/><link rel=alternate type=application/rss+xml title=RSS href><link rel=stylesheet type=text/css href=https://blog.nodetraveller.com/css/main.css><link rel=stylesheet type=text/css href=https://blog.nodetraveller.com/css/syntax.css><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300|Montserrat:700" rel=stylesheet type=text/css><link href=//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css rel=stylesheet></head><body><!--[if lt IE 7]><p class=browsehappy>You are using an <strong>outdated</strong> browser. Please <a href=http://browsehappy.com/>upgrade your browser</a> or <a href=http://www.google.com/chrome/‎>install Google Chrome</a> to experience this site.</p><![endif]--><header id=site-header><div class=container><a href=https://blog.nodetraveller.com/ alt="Just another Nodetraveller"><h1 class="blog-title heading">Just another Nodetraveller</h1></a><p class=blog-description>Lawrence Carvalho's Personal blog about stuff</p></div></header><main class=content role=main><div class=container><article class=post><header class=post-header><h3 class=p-post-title>LiveInfo - How it works</h3></header><section class=post-content><p class=f-post-time><time datetime=2005-02-14T15:42:03Z>February 14, 2005</time></p><p>LiveInfo is directly evolved from <a href=http://blog.bitflux.ch/wiki/LiveSearch>Livesearch</a>. If you don’t know what liveSearch is, liveSearch allowed users to search a website while still viewing the current page. The original can be seen <a href=http://blog.bitflux.ch/wiki/LiveSearch>here</a>. Wanting to make use of liveSearch for one of my own projects, I proceeded to make some changes from which evolved LiveInfo. LiveInfo is a framework for multiple, real time, skinnable updatable elements within a web page. You can see LiveInfo in action on my blog where there are two LiveInfo elements. One is the blog search and the other is the UK TV listings (SynTV) search on the side.</p><p>From the client side, LiveInfo improves upon the original in the following areas:</p><ul><li>Support for more browsers<ul><li>Internet Explorer 5+ (Win)</li><li>Gecko based browsers</li><li>Opera 7+</li></ul></li><li>Should work with IE Mac, Konqueror etc. Needs testing</li><li>Multiple LiveInfo elements on one page</li><li>Pageable results (Keyboard navigation via left, right, up and down keys)</li><li>Support for multiple element forms</li></ul><p>Utilising a small backend framework, LiveInfo also provides the following functionality</p><ul><li>Cacheable Results</li><li>Dynamic forms</li><li>Skinnable Results</li><li>Plugin support (services)</li><li>Webservices support (via plugins)</li></ul><p>LiveInfo comes with four services. These are as follows:</p><ul><li>Wordpress search - Searches a wordpress blog</li><li>Google Search - A simple Google search. Uses Googles SOAP API.</li><li>SynTV Search - Search UK TV listings using the syntv.com XMLRPC webservice</li><li>SynTV Listings - Displays UK TV listings using the syntv.com XMLRPC webservice</li></ul><p>The latest version of liveInfo can be found on my <a href="http://www.nodetraveller.com/blog/index.php?page_id=24">downloads</a> page.</p><h2 id=installation>Installation</h2><p>Extract the zip and upload the liveInfo directory to your server. I recommend uploading it to the root directory. Wherever you upload it, edit the liveInfoDir node in the liveInfo/liveInfo.xml file to point to it. The value should be a relative path and must not have an ending /. Any new services should be copied into the services directory and any css files into the css directory. Lastly make sure the cache directory is writable. You’ll need to edit the xml file for each service to suit your install but instructions are given</p><h2 id=how-it-works>How it works</h2><p>When a user interacts with a form, using either the XMLHttpRequest object or an iframe depending on browser capability, a request is made to the server.
Whatever the results the server returns some XML from which the relevant elements are extracted and displayed.</p><p>The xml document that is returned by the server is actually an XML document with a html namespace. The reason for this is that the normal method of using innerHTML to rewrite elements won&rsquo; work on some browsers that support true XHTML documents (xml files sent with the correct application/xhtml+xml header). The workaround for this is to use the document.importNode method to import nodes from one document into another. Note this compatibilty with true XHTML documents was one of the last features to be put in and hasn’t yet been tested fully on true XHTML documents. I will update when I test more fully.</p><h2 id=javascript>Javascript</h2><p>The javascript for LiveInfo is object-oriented. The liveInfo object is responsible for extracting the form details, showing and navigating through the results. The liveInfo object utilises the xmlClient object which is responsible for contacting the server and returning the results to the liveInfo object.</p><h2 id=the-xmlclient-object>The XMLClient object</h2><p>For browsers that can make use of the XMLHttpRequest object, the xmlClient simply instantiates the XMLHttpRequest object and sends the request through. For those browers that don&rsquo; have have XMLHttpRequest capability, it uses iframes. Unfortunately, its not easy to detect when a page has finished loading within an iframe so we check for a close tag for a specifed tagName which we call a closureNode (also the root node). When we encounter this, we extract and return the results.</p><p>The LiveInfo Object
The LiveInfo object is really quite customisable. There a few other elements besides the actual results to display. There is a title element, a status element to display information, the page controls and other UI elements. The methods available to customise different aspects of the liveInfo page element.</p><p>The constructor for the object takes four parameters. The first is the url for the liveinfo.php. The second and third are the service name and operation name respectively. The last parameter is the name or id of the nominated form element that is to trigger the liveInfo display. There can be more than one element that triggers liveInfo but only one can be the nominated element. The nominated element is also checked for text input if it is an text field or that a choice is selected if a select element.</p><p>The status text that is displayed on various events (search, error, progress,result) is fully customisable and is based on using a token within a string which is replaced with the required value. This allows a degree of support for other languages. The default token is &ldquo;?&rdquo; but this can be changed with the <strong>setStatementToken</strong> method. There are four statements and these can be changed via the <strong>setSearchStatement</strong>, <strong>setErrorStatement</strong>, <strong>setProgressStatement</strong> and <strong>setResultStatement</strong> methods.</p><p>Like the original, the results are navigable via the keyboard but this can be turned of via the <strong>setActivateKeys</strong> method.</p><p>The amount of time (in secs) the results are shown before automatically disappearing can be changed from the default of 5 seconds using the <strong>setDisplayTimeout</strong> method.</p><p>Debugging can be turned on or off via the <strong>setDebug</strong> method</p><p>When a user hits the return key, the form defaults to submitting the form to the required page. This behaviour can be turned off with the <strong>setSubmit</strong> method.</p><p>We can also add a custom method that is called whenever the liveInfo is triggered but before the request is sent. An example of why we might want to do this is to sent the field of a hidden value to something depending on the value of others form elements. To add this custom method we use the <strong>addOnTriggerMethod</strong> which takes a function as a parameter.</p><p>The default validation method in liveInfo simply checks that text is entered in text field elements and that at least one option is selected for select elements. You can replace this with a custom validation method using the <strong>replaceValidateMethod</strong> method. Like addOnTriggerMethod, this takes a function as a parameter.</p><p>Examples of calling these methods can be seen below:</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln> 1</span><span class=nx>setStatementToken</span><span class=p>(</span><span class=s2>&#34;|&#34;</span><span class=p>);</span>
<span class=ln> 2</span><span class=nx>setSearchStatement</span><span class=p>(</span><span class=s2>&#34;custom searching for msg |&#34;</span><span class=p>);</span>
<span class=ln> 3</span><span class=nx>setErrorStatement</span><span class=p>(</span><span class=s2>&#34;Custom error msg: |&#34;</span><span class=p>);</span>
<span class=ln> 4</span><span class=nx>setProgressStatement</span><span class=p>(</span><span class=s2>&#34;Streaming data...|&#34;</span><span class=p>);</span>
<span class=ln> 5</span><span class=nx>setResultStatement</span><span class=p>(</span><span class=s2>&#34;Displaying items | to | out of |&#34;</span><span class=p>);</span>
<span class=ln> 6</span><span class=nx>setActivateKeys</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=ln> 7</span><span class=nx>setDisplayTimeout</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
<span class=ln> 8</span><span class=nx>setDebug</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
<span class=ln> 9</span><span class=nx>setSubmit</span><span class=p>(</span><span class=kc>false</span><span class=p>);</span>
<span class=ln>10</span><span class=nx>addOnTriggerMethod</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span>  <span class=p>{</span>
<span class=ln>11</span>			<span class=k>if</span> <span class=p>(</span><span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;synTVgetSearch_timeslot&#34;</span><span class=p>).</span><span class=nx>value</span><span class=o>!=</span><span class=s2>&#34;WHATSONNOW&#34;</span><span class=p>)</span>
<span class=ln>12</span>				<span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;synTVgetSearch_time&#34;</span><span class=p>).</span><span class=nx>value</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
<span class=ln>13</span>			<span class=k>else</span> <span class=p>{</span>
<span class=ln>14</span>				<span class=nx>date</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
<span class=ln>15</span>				<span class=kd>var</span> <span class=nx>hours</span> <span class=o>=</span> <span class=nx>date</span><span class=p>.</span><span class=nx>getHours</span><span class=p>();</span>
<span class=ln>16</span>				<span class=kd>var</span> <span class=nx>mins</span> <span class=o>=</span> <span class=nx>date</span><span class=p>.</span><span class=nx>getMinutes</span><span class=p>();</span>
<span class=ln>17</span>				<span class=nx>hours</span> <span class=o>=</span> <span class=p>(</span><span class=nx>hours</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>)</span> <span class=o>?</span> <span class=s1>&#39;0&#39;</span> <span class=o>+</span> <span class=nx>hours</span> <span class=o>:</span> <span class=nx>hours</span><span class=p>;</span>
<span class=ln>18</span>				<span class=nx>mins</span> <span class=o>=</span> <span class=p>(</span><span class=nx>mins</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>)</span> <span class=o>?</span> <span class=s1>&#39;0&#39;</span> <span class=o>+</span> <span class=nx>mins</span> <span class=o>:</span> <span class=nx>mins</span><span class=p>;</span>
<span class=ln>19</span>				<span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;synTVgetSearch_time&#34;</span><span class=p>).</span><span class=nx>value</span><span class=o>=</span><span class=nx>hours</span><span class=o>+</span><span class=s2>&#34;&#34;</span><span class=o>+</span><span class=nx>mins</span><span class=p>;</span>
<span class=ln>20</span>			<span class=p>}</span>
<span class=ln>21</span>		<span class=p>});</span>
<span class=ln>22</span><span class=nx>replaceValidateMethod</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>23</span>  <span class=c1>//validation js here
</span><span class=ln>24</span><span class=c1></span><span class=p>});</span>
</code></pre></div><h2 id=framework>Framework</h2><p>The framework is currently coded in PHP but it should be easily ported to other languages.</p><p>The plugin architecture is based on an abstract class called liveInfo. This class and all plugins (services) have an associated xml file which defines configuration values. The liveInfo.xml file contains default configuration values for the system. The xml files for services can override the values in the default xml file. For instance, the liveInfoContainer node contains the html (div container) that displays the results and pagecontrols. This can be used by all services or a service can have a liveInfoContainer node in its xml file which is used instead. This is what makes liveInfo skinnable. Every service also has an associated class which is a subclass of the liveInfo class.</p><p>The best way to describe how liveInfo is to use an example. The next two sections describe how to put a liveInfo element on a page and how to write a service.</p><h2 id=putting-liveinfo-on-your-page>Putting liveInfo on your page</h2><p>We&rsquo;ll use the google service as an example. The google service displays results from <a href=http://www.google.com>Google</a>.</p><p>Inside the head section of your page or template, put the following bit of php</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span>include_once(&#39;<span class=p>&lt;</span><span class=nt>path</span><span class=p>&gt;</span>liveInfo.php&#39;);
<span class=ln>2</span>$liveInfoMan = liveInfoManager::getLiveInfoManager();
<span class=ln>3</span>$liveInfoMan-&gt;addService(&#39;google&#39;,&#39;Search&#39;);
<span class=ln>4</span>//output a string of all the css link tags for all the services
<span class=ln>5</span>echo $liveInfoMan-&gt;getClientsCode(&#34;css&#34;);
<span class=ln>6</span>//output a string of all the js for all the services
<span class=ln>7</span>$jsCode  = $liveInfoMan-&gt;getClientsCode(&#34;js&#34;);</code></pre></div><p>Replace &lt;path> with the install path of LiveInfo in line 2. Line 3 instantiates the LiveInfoManager object. This object is responsible for managing the liveInfo elements that are on the page. Remember, its possible to have more than one. We add the service that we want via the addService method in line 4. The addService method takes two parameters; serviceName and opName. In this case the serviceName is &ldquo;google&rdquo; and the opName is &ldquo;Search&rdquo;. If you have other services, you would add them here. Each service has a associated css file and line 6 outputs the css link tag for each service. Line 7 stores the javascript object creation code into the $jsCode variable.</p><p>Also in the head section we need to load the js files and create the function that is called when the document has loaded. This function creates all the liveInfo objects for each of the services on the page</p><div class=highlight><pre class=chroma><code class=language-html data-lang=html><span class=ln>1</span><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;[path]js/xmlclient.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=ln>2</span><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;[path]js/liveinfo.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=ln>3</span><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;[path]js/onload.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
<span class=ln>4</span><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span><span class=c>&lt;!--</span><span class=c1>//--&gt;&lt; ![CDATA[//&gt;&lt;!--
</span><span class=ln>5</span><span class=c1></span>	<span class=kd>function</span> <span class=nx>liveInfoServices</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>6</span>	     <span class=o>&lt;?</span><span class=nx>php</span> <span class=nx>echo</span> <span class=nx>$jsCode</span><span class=p>;</span>	<span class=o>?&gt;</span>
<span class=ln>7</span>	<span class=p>}</span>
<span class=ln>8</span><span class=c1>//--&gt;&lt; !]]&gt;
</span><span class=ln>9</span><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></code></pre></div><p>Replace [path] with the path of your liveinfo install. The $jsCode is the javascript that inits the liveInfo objects for each element on the page. It would look like this :</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ln>1</span><span class=nx>wordpressSearch</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>liveInfo</span><span class=p>(</span><span class=s2>&#34;http://www.nodetraveller.com/liveInfo/liveInfo.php&#34;</span><span class=p>,</span><span class=s2>&#34;wordpress&#34;</span><span class=p>,</span><span class=s2>&#34;Search&#34;</span><span class=p>,</span><span class=s2>&#34;s&#34;</span><span class=p>);</span>
<span class=ln>2</span><span class=nx>wordpressSearch</span><span class=p>.</span><span class=nx>init</span><span class=p>();</span>
<span class=ln>3</span><span class=nx>wordpressSearch</span><span class=p>.</span><span class=nx>setSubmit</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</code></pre></div><p>Now within your page or template, wherever you want, you can output the form and result HTML with the following:</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span>echo $liveInfoMan-&gt;getClientCode(&#34;google&#34;,&#34;Search&#34;,&#34;form&#34;);
<span class=ln>2</span>echo $liveInfoMan-&gt;getClientCode(&#34;google&#34;,&#34;Search&#34;,&#34;resultsHTML&#34;);</code></pre></div><p>And that&rsquo;s it. The actual form and html is actually defined in the service xml, which is what we&rsquo;ll look at next.</p><h2 id=a-service>A Service</h2><p>Default values are stored in liveInfo.xml</p><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=ln> 1</span><span class=nt>&lt;liveInfo&gt;</span>
<span class=ln> 2</span>        <span class=nt>&lt;liveInfoDir&gt;</span>/liveInfo<span class=nt>&lt;/liveInfoDir&gt;</span>
<span class=ln> 3</span>	<span class=nt>&lt;cssLink&gt;</span>http://yourdomain.com/liveInfo/css/liveInfo.css<span class=nt>&lt;/cssLink&gt;</span>
<span class=ln> 4</span>        <span class=nt>&lt;cacheTTL&gt;</span>3600<span class=nt>&lt;/cacheTTL&gt;</span>
<span class=ln> 5</span>	<span class=nt>&lt;liveInfoContainer&gt;</span>
<span class=ln> 6</span>	<span class=cp>&lt;![CDATA[
</span><span class=ln> 7</span><span class=cp>	&lt;div id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfo&#34; class=&#34;liveInfo&#34; &gt;
</span><span class=ln> 8</span><span class=cp>	&lt;div id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoStatus&#34; class=&#34;liveInfoStatus&#34;&gt;
</span><span class=ln> 9</span><span class=cp>		&lt;a href=&#34;javascript:void(0)&#34; id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoClose&#34; class=&#34;liveInfoClose&#34; onclick=&#34;[&lt;infoName&gt;][&lt;opName&gt;].hideLiveInfo();&#34; title=&#34;Close&#34;&gt;X&lt;/a&gt;
</span><span class=ln>10</span><span class=cp>		&lt;div id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoPageControls&#34; class=&#34;liveInfoPageControls&#34;&gt;
</span><span class=ln>11</span><span class=cp>			&lt;a id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoNext&#34;  class=&#34;liveInfoNext&#34; onclick=&#34;[&lt;infoName&gt;][&lt;opName&gt;].next()&#34; title=&#34;Next results&#34; &gt;&amp;raquo;&lt;/a&gt;
</span><span class=ln>12</span><span class=cp>			&lt;a id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoPrev&#34; class=&#34;liveInfoPrev&#34; onclick=&#34;[&lt;infoName&gt;][&lt;opName&gt;].previous();&#34; title=&#34;Previous results&#34; &gt;&amp;laquo;&lt;/a&gt;
</span><span class=ln>13</span><span class=cp>		&lt;/div&gt;
</span><span class=ln>14</span><span class=cp>		&lt;div id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoTitle&#34; class=&#34;liveInfoTitle&#34;&gt;[&lt;infoName&gt;]&lt;/div&gt;&lt;div id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoStatusText&#34; class=&#34;liveInfoStatusText&#34;&gt;&lt;/div&gt;
</span><span class=ln>15</span><span class=cp>	&lt;/div&gt;
</span><span class=ln>16</span><span class=cp>	&lt;div id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoResults&#34; class=&#34;liveInfoResults&#34;&gt;&lt;/div&gt;
</span><span class=ln>17</span><span class=cp>&lt;/div&gt;]]&gt;</span>
<span class=ln>18</span>	<span class=nt>&lt;/liveInfoContainer&gt;</span>
<span class=ln>19</span><span class=nt>&lt;/liveInfo&gt;</span></code></pre></div><p>The liveInfoDir points to the install directory of liveInfo. This is used by the js liveInfo object. The cacheTTL node defines the default time in seconds to cache the service. This can be overridden by a service. The cssLink points to the location of the default css stylesheet. This can also be overridden by a service. Also overrideable by a service is the liveInfoContainer node. This defines the HTML that is displayed when results are shown. The [&lt;infoname>][&lt;opname>] is used as placeholders and is replaced by the serviceName and opName in the final output on a page eg googleSearch. The structure of this node can change but note that the event handlers, id and class names should be the same. You should be able to add new elements also.</p><p>The google service xml looks like this:</p><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=ln> 1</span><span class=nt>&lt;liveInfoProvider&gt;</span>
<span class=ln> 2</span>	<span class=nt>&lt;name&gt;</span>Google<span class=nt>&lt;/name&gt;</span>
<span class=ln> 3</span>	<span class=nt>&lt;description&gt;</span>you need a description?!<span class=nt>&lt;/description&gt;</span>
<span class=ln> 4</span>	<span class=nt>&lt;link&gt;</span>http://www.google.com<span class=nt>&lt;/link&gt;</span>
<span class=ln> 5</span>	<span class=nt>&lt;cacheTTL&gt;</span>3600<span class=nt>&lt;/cacheTTL&gt;</span>
<span class=ln> 6</span>	<span class=nt>&lt;key&gt;</span>Use your own google key<span class=nt>&lt;/key&gt;</span>
<span class=ln> 7</span>	<span class=nt>&lt;q&gt;&lt;/q&gt;</span>
<span class=ln> 8</span>	<span class=nt>&lt;start&gt;&lt;/start&gt;</span>
<span class=ln> 9</span>	<span class=nt>&lt;maxResults&gt;</span>10<span class=nt>&lt;/maxResults&gt;</span>
<span class=ln>10</span>	<span class=nt>&lt;filter&gt;</span>true<span class=nt>&lt;/filter&gt;</span>
<span class=ln>11</span>	<span class=nt>&lt;safeSearch&gt;</span>false<span class=nt>&lt;/safeSearch&gt;</span>
<span class=ln>12</span>	<span class=nt>&lt;restrict&gt;&lt;/restrict&gt;</span>
<span class=ln>13</span>	<span class=nt>&lt;lr&gt;&lt;/lr&gt;</span>
<span class=ln>14</span>	<span class=nt>&lt;liveInfoOperations&gt;</span>
<span class=ln>15</span>		<span class=nt>&lt;liveInfoOperation&gt;</span>
<span class=ln>16</span>			<span class=nt>&lt;liveInfoOperationName&gt;</span>Search<span class=nt>&lt;/liveInfoOperationName&gt;</span>
<span class=ln>17</span>			<span class=nt>&lt;liveInfoDescription&gt;</span>Get Search Results<span class=nt>&lt;/liveInfoDescription&gt;</span>
<span class=ln>18</span>			<span class=nt>&lt;client&gt;</span>
<span class=ln>19</span>				<span class=nt>&lt;liveInfoForm&gt;</span>
<span class=ln>20</span>					<span class=cp>&lt;![CDATA[&lt;form onsubmit=&#34;return [&lt;infoName&gt;][&lt;opName&gt;].submit()&#34;  id=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoForm&#34; class=&#34;[&lt;infoName&gt;][&lt;opName&gt;]_liveInfoForm&#34; method=&#34;get&#34; action=&#34;./&#34;&gt;
</span><span class=ln>21</span><span class=cp>&lt;input type=&#34;text&#34; id=&#34;googlesearch&#34; size=&#34;15&#34; onkeypress=&#34;[&lt;infoName&gt;][&lt;opName&gt;].execute()&#34; /&gt;
</span><span class=ln>22</span><span class=cp>&lt;/form&gt;]]&gt;</span>
<span class=ln>23</span>				<span class=nt>&lt;/liveInfoForm&gt;</span>
<span class=ln>24</span>				<span class=nt>&lt;liveInfoJS&gt;</span>
<span class=ln>25</span>				<span class=cp>&lt;![CDATA[
</span><span class=ln>26</span><span class=cp>		[&lt;infoName&gt;][&lt;opName&gt;]= new liveInfo(&#34;[&lt;liveInfoURL&gt;]&#34;,&#34;[&lt;infoName&gt;]&#34;,&#34;[&lt;opName&gt;]&#34;,&#34;googlesearch&#34;);
</span><span class=ln>27</span><span class=cp>[&lt;infoName&gt;][&lt;opName&gt;].init();
</span><span class=ln>28</span><span class=cp>]]&gt;</span>
<span class=ln>29</span>				<span class=nt>&lt;/liveInfoJS&gt;</span>
<span class=ln>30</span>				<span class=nt>&lt;cssLink&gt;</span>http://yourdomain.com/css/googleLiveInfo.css<span class=nt>&lt;/cssLink&gt;</span>
<span class=ln>31</span>			<span class=nt>&lt;/client&gt;</span>
<span class=ln>32</span>		<span class=nt>&lt;/liveInfoOperation&gt;</span>
<span class=ln>33</span>	<span class=nt>&lt;/liveInfoOperations&gt;</span>
<span class=ln>34</span><span class=nt>&lt;/liveInfoProvider&gt;</span></code></pre></div><p>The name, description and link nodes are there for informational purposes about the service. On line 6 we can see that this service is set to cache for only 15 mins. The <strong>key</strong>, <strong>q</strong>, <strong>lr</strong>, <strong>start</strong>, <strong>maxresults</strong>, <strong>filter</strong>, <strong>safesearch</strong> and <strong>restrict</strong> nodes are google webservice parameters. If a service needs service specific config values, they can be defined here in the xml and the service will pick it up.</p><p>Now every service has at least one operation. Here we define one called search. Google&rsquo;s webservice also provides a spelling operation. If we wanted to, we would have another <strong>liveOperation</strong> node which defines the information needed for that operation. The important nodes here are the <strong>liveInfoOperationName</strong> and the <strong>client</strong> nodes. The <strong>liveInfoOperationName</strong> identifies the operation and is used by the <strong>liveInfoManager</strong> to load up the correct service operation. The <strong>client</strong> node has a <strong>liveInfoForm</strong> node which is where the form for the service is defined. To note here is the keypress event handler event for the element that is to trigger the liveInfo. This event can be used on other elements if the form has more than one element. The <strong>liveInfoJS</strong> node contains the javascript code to create the liveInfo js object. Any parameters or customisation is set here. See the Javascript section for more information. Finally the <strong>cssLink</strong> node defines the link to the stylesheet for this service.</p><p>It&rsquo;s possible that a form element is dynamic. For instance, a select element&rsquo;s options are loaded from the database. In this case, we can specify a method to call which will output the element. To do this we put the following in the relevant place. An example</p><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=ln>1</span><span class=nt>&lt;opCall&gt;</span>getDays<span class=nt>&lt;/opCall&gt;</span></code></pre></div><p>When the service encounters the node, it calls the getDays method and inserts the return value in the form</p><h2 id=the-php>The PHP</h2><p>An abstract class called liveInfo defines the interface which any service must implement. It also provides some helper methods for outputting xml, debug info and caching methods. The constructor looks like this.</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln>1</span>class googleLiveInfo extends soapLiveInfo {
<span class=ln>2</span>	var $serviceName = &#34;google&#34;;
<span class=ln>3</span>
<span class=ln>4</span>	function googleLiveInfo($opName=null) {
<span class=ln>5</span>		parent::soapLiveInfo();
<span class=ln>6</span>		$this-&gt;opName = $opName;
<span class=ln>7</span>		parent::initialise();
<span class=ln>8</span>	}</code></pre></div><p>The Google webservice is a soap service. Besides the liveInfo abstract class, the liveInfo framework is supplied with two subclasses called rpcLiveInfo and soapLiveInfo. These subclasses include the required library for using XMLRPC or SOAP. So if your service uses XMLRPC or SOAP you should subclass one of these methods. If not, then you should just subclass the liveInfo class. Its important that you do this and call the parent constuctor (see line 5). Calling the parent constructor, loads the default liveInfo.xml then calling the initialise() method, loads the service&rsquo;s xml file initialising the object with the data in the xml file</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln> 1</span>function getLiveInfo($query) {
<span class=ln> 2</span>		if ($this-&gt;debug)
<span class=ln> 3</span>			$this-&gt;dumpVariable(&#39;RECEIVED QUERY PARAMS: &#39;,$query);
<span class=ln> 4</span>		# Set google parameters
<span class=ln> 5</span>		$parameters = array(
<span class=ln> 6</span>		  &#39;key&#39;=&gt;$this-&gt;key,
<span class=ln> 7</span>		  &#39;q&#39; =&gt; $query[&#39;googlesearch&#39;],
<span class=ln> 8</span>		  &#39;start&#39; =&gt; &#39;0&#39;,
<span class=ln> 9</span>		  &#39;maxResults&#39; =&gt; &#39;10&#39;,
<span class=ln>10</span>		  &#39;filter&#39; =&gt; $this-&gt;filter,
<span class=ln>11</span>
<span class=ln>12</span>		  &#39;restrict&#39; =&gt; $this-&gt;restrict,
<span class=ln>13</span>		  &#39;safeSearch&#39; =&gt; $this-&gt;safeSearch,
<span class=ln>14</span>		  &#39;lr&#39; =&gt; $this-&gt;lr,
<span class=ln>15</span>		);
<span class=ln>16</span>		$cache = $this-&gt;getCache($this-&gt;serviceName.$this-&gt;opName);
<span class=ln>17</span>		switch($this-&gt;opName) {
<span class=ln>18</span>			case &#34;Search&#34;:
<span class=ln>19</span>				//if not using a cache use this line
<span class=ln>20</span>                                // $result = $this-&gt;getSearch($parameters);
<span class=ln>21</span>                                $result = $cache-&gt;call(array(<span class=ni>&amp;$this,&#39;getSearch&#39;),$parameters);</span>
<span class=ln>22</span>				break;
<span class=ln>23</span>		}
<span class=ln>24</span>		if ($this-&gt;debug) {
<span class=ln>25</span>			$this-&gt;dumpVariable(&#39;LIVEINFO RESULT (XML) : &#39;,$result);
<span class=ln>26</span>		}
<span class=ln>27</span>		if($this-&gt;debug)
<span class=ln>28</span>			return $this-&gt;packageResult($this-&gt;packageDebug($this-&gt;debugStr).$result);
<span class=ln>29</span>		else return $this-&gt;packageResult($result);
<span class=ln>30</span>}</code></pre></div><p>When a request from a liveInfo page element, its the getLiveInfo that is called. If cache is needed we get a cache object by calling the getCache method, then we call the getSearch method via the cache object&rsquo; call method. If a cache is not needed, then we would just call the getSearch method directly. Then the results are packaged for return. Note also debug data is also added if debug mode is on. The getSearch method sets up the SOAP call, contacts the webservice and passes the results to the renderResults method which returns them nicely formated into an unordered list.</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=ln> 1</span>function renderResults($results) {
<span class=ln> 2</span>		if ($this-&gt;debug)
<span class=ln> 3</span>			$this-&gt;dumpVariable(&#39;LIVEINFO RESULTS (RAW) : &#39;,$results);
<span class=ln> 4</span>		$channels = $results;
<span class=ln> 5</span>		$html =&#39;<span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;liveResults&#34;</span><span class=p>&gt;</span>&#39;;
<span class=ln> 6</span>	foreach ( $results[&#39;resultElements&#39;] as $result ) {
<span class=ln> 7</span>	    $title = $result[&#39;title&#39;] ? $result[&#39;title&#39;] : &#39;no title&#39;;
<span class=ln> 8</span>	    //opera 7 has problems with brs in snippet field (??)
<span class=ln> 9</span>	    $snippet = str_replace(&#34;<span class=p>&lt;</span><span class=nt>br</span><span class=p>&gt;</span>&#34;,&#34;&#34;,$result[&#39;snippet&#39;]);
<span class=ln>10</span>	    $url = str_replace(&#39;<span class=ni>&amp;&#39;,&#39;&amp;amp;</span>&#39;,$result[&#39;URL&#39;]);
<span class=ln>11</span>	    $html .=&#39;<span class=p>&lt;</span><span class=nt>li</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;&#39;.$result[&#34;</span><span class=na>URL</span><span class=err>&#34;].&#39;&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;&#39;.$url.&#39;&#34;</span><span class=p>&gt;&lt;</span><span class=nt>strong</span><span class=p>&gt;</span>&#39;.$title.&#39;<span class=p>&lt;/</span><span class=nt>strong</span><span class=p>&gt;&lt;</span><span class=nt>br</span> <span class=p>/&gt;</span>&#39;.$snippet.&#39;<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>&#39;;
<span class=ln>12</span>  	}
<span class=ln>13</span>	$html.=&#34;<span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>&#34;;
<span class=ln>14</span>	return $html;
<span class=ln>15</span>	}</code></pre></div><p>The resulting document for a search for &ldquo;news&rdquo; looks like this : (debug mode turned off)</p><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=ln> 1</span>html xmlns=&#34;http://www.w3.org/1999/xhtml&#34; xml:lang=&#34;en&#34;&gt;
<span class=ln> 2</span><span class=nt>&lt;liveInfo&gt;</span>
<span class=ln> 3</span>	<span class=nt>&lt;liveInfoResult</span> <span class=na>id=</span><span class=s>&#34;liveInfoResult&#34;</span><span class=nt>&gt;</span>
<span class=ln> 4</span>		<span class=nt>&lt;ul</span> <span class=na>class=</span><span class=s>&#34;liveResults&#34;</span><span class=nt>&gt;&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://www.cnn.com/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://www.cnn.com/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>CNN.com<span class=nt>&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> MORE <span class=nt>&lt;b&gt;</span>NEWS<span class=nt>&lt;/b&gt;</span>, Most Popular. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> BUSINESS at CNN/Money, Business <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span>. STOCK/FUND QUOTES: enter symbol. MARKETS: 5:16pm ET, 02/03. DJIA, -3.69, 10,593.10, -0.03. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln> 5</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://news.bbc.co.uk/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://news.bbc.co.uk/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>BBC <span class=nt>&lt;b&gt;</span>NEWS<span class=nt>&lt;/b&gt;</span> | <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> Front Page<span class=nt>&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;</span>Visit BBC <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> for up-to-the-minute <span class=nt>&lt;b&gt;</span>news<span class=nt>&lt;/b&gt;</span>, breaking <span class=nt>&lt;b&gt;</span>news<span class=nt>&lt;/b&gt;</span>, video, audio and feature stories. BBC <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> provides trusted World and UK <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln> 6</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://www.foxnews.com/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://www.foxnews.com/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>FOXNews.com<span class=nt>&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> Jacko Talks Neverland. Michael Jackson tells FOX <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> about the <span class=ni>&amp;#39;</span>bliss<span class=ni>&amp;#39;</span> of his home, says he<span class=ni>&amp;#39;</span>s a target. LATEST HEADLINES. ONLY ON FOX. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> FOX <span class=nt>&lt;b&gt;</span>NEWS<span class=nt>&lt;/b&gt;</span> 24/7. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln> 7</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://abcnews.go.com/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://abcnews.go.com/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>ABC <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span>: Online <span class=nt>&lt;b&gt;</span>news<span class=nt>&lt;/b&gt;</span>, breaking <span class=nt>&lt;b&gt;</span>news<span class=nt>&lt;/b&gt;</span>, feature stories and more<span class=nt>&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;</span>ABC <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> HomeABC <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> Home. February 3, 2005 | Get Your Local <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> and Weather. Search ABC <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> Search the Web. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> ABC <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> Now. View Schedule. Subscribe Now <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln> 8</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://news.google.com/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://news.google.com/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>Google <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;</span>Google <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span>. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> Rudy T Runs Himself Out of LA WOAI Los Angeles Daily <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> - Xinhua - WTNH - People<span class=ni>&amp;#39;</span>s Daily Online - all 1,228 related ? BBC Sport. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln> 9</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://www.cbsnews.com/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://www.cbsnews.com/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>CBSNews.com<span class=nt>&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;</span>Home US Iraq World Politics SciTech HealthWatch Entertainment New: Business Opinion FREE CBS <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> Video. CBSNews.com, <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> All Evening <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span>, All Early Show. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln>10</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://news.yahoo.com/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://news.yahoo.com/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>Yahoo! <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> - Front Page<span class=nt>&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;</span>Personalize <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> Home Page. Yahoo! <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> Thu, Feb 03, 2005, <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> Reuters Video, Stocks Edge Lower; Amazon Weighs (Reuters Video). <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> via RSS. Top <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span>. Top Stories. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln>11</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://www.wired.com/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://www.wired.com/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>Wired <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;</span>Read our design notes for details. Welcome to Wired <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span>. Skip <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> Advertisement. updated 2:00 am Feb. 3, 2005 PT <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> Archive. Peekaboo <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln>12</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://www.msnbc.msn.com/&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://www.msnbc.msn.com/&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>MSNBC - MSNBC Front Page<span class=nt>&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> MSNBC <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span>, Alerts | Newsletters | RSS | Help, MSNBC Home. MSNBC TV. <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span>. Business. Sports. Entertainment. Tech / Science. Weather. Health. Travel. Blogs Etc. <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln>13</span>			<span class=nt>&lt;li</span> <span class=na>class=</span><span class=s>&#34;liveInfoItem&#34;</span><span class=nt>&gt;&lt;a</span> <span class=na>href=</span><span class=s>&#34;http://www.usnews.com/usnews/home.htm&#34;</span> <span class=na>target=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title=</span><span class=s>&#34;http://www.usnews.com/usnews/home.htm&#34;</span><span class=nt>&gt;&lt;strong&gt;</span>USNews.com: Home<span class=nt>&lt;/strong&gt;&lt;br</span> <span class=nt>/&gt;&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span> dietary guidelines Best Hospitals: Top medical centers Honor Roll: 14 excellent hospitals Find a hospital: Comprehensive directory Heart Guide: <span class=nt>&lt;b&gt;</span>News<span class=nt>&lt;/b&gt;</span> and tools <span class=nt>&lt;b&gt;</span>...<span class=nt>&lt;/b&gt;</span>  <span class=nt>&lt;/a&gt;&lt;/li&gt;</span>
<span class=ln>14</span>		<span class=nt>&lt;/ul&gt;</span>
<span class=ln>15</span>	<span class=nt>&lt;/liveInfoResult&gt;</span>
<span class=ln>16</span><span class=nt>&lt;/liveInfo&gt;</span>
<span class=ln>17</span><span class=nt>&lt;/html&gt;</span></code></pre></div><p>If there were no results, the liveInfoResult would be replaced by a liveInfoNoResult node. If there was a fault of some sort, then the liveInfoResult node would be replaced by a liveInfoFault node.</p><h2 id=debugging>Debugging</h2><p>If debugging is turned on, then liveInfo outputs the debug output that is received form the server to an element that is identified by the id of serviceName+opName+_liveInfoDebug giving (for wordpress search) wordpressSearch_liveInfoDebug. You can also do some direct checking by inserting the liveInfo url into your browser with the required parameters. For example, for wordpress, the url would be [path to liveInfo]/liveInfo/liveInfo.php?liveInfo=wordpress&opName=Search&s=rpc</p><h2 id=todo>Todo:</h2><p>Streamline debug</p><p>Make install easier with less or ideally no editing of xml files needed</p></section><hr><footer class=post-footer><section class=f-1><section class=author><p>Words by Lawrence Carvalho</p></section></section><section class=f-2><section class=f-post-tags><span><i class="fa fa-tag"></i></span><ul class=post-tags><li><a href=/tags/javascript>Javascript</a></li><li><a href=/tags/liveinfo>Liveinfo</a></li></ul></section><section class=share><span>Share:
<a class=icon-twitter href="http://twitter.com/share?text=LiveInfo%20-%20How%20it%20works&url=https%3a%2f%2fblog.nodetraveller.com%2fpost%2fsource%2fliveinfo-how-it-works%2f" onclick="window.open(this.href,'twitter-share','width=550,height=235');return false;"><i class="fa fa-twitter"></i></a><a class=icon-facebook href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.nodetraveller.com%2fpost%2fsource%2fliveinfo-how-it-works%2f" onclick="window.open(this.href,'facebook-share','width=580,height=296');return false;"><i class="fa fa-facebook"></i></a><a class=icon-google-plus href="https://plus.google.com/share?url=https%3a%2f%2fblog.nodetraveller.com%2fpost%2fsource%2fliveinfo-how-it-works%2f" onclick="window.open(this.href,'google-plus-share','width=490,height=530');return false;"><i class="fa fa-google-plus"></i></a></span></section></section></footer></article></div></main><footer id=site-footer><div class=container><a href=https://www.github.com/lawrencec title=GitHub target=_blank><span class=tooltip><i class="fa fa-github"></i></span></a><a href=https://blog.nodetraveller.com/index.xml title="Get the RSS feed"><span class=tooltip><i class="fa fa-rss"></i></span></a><section>&copy; <a href=https://blog.nodetraveller.com/>Lawrence Carvalho</a> Copyright 2007-2020 Lawrence Carvalho. All rights reserved.</section><section>Theme by <a href=http://www.jrdnbwmn.com>Jordan Bowman</a>. Generated with <a href=http://gohugo.io/>Hugo</a>.</section></div></footer></body></html>